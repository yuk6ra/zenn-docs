---
title: "ã€Solidityã€‘Hardhatã‚’åˆ©ç”¨ã—ã¦3åˆ†é–“ã§ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆé–‹ç™ºã®ç’°å¢ƒæ§‹ç¯‰ã‚’è¡Œã†"
emoji: "ğŸ¤–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics:
    - Solidity
published: false
---

# ã¯ã˜ã‚ã«

# å‰ææ¡ä»¶
- Linux
- Node.js v18.13.0
- npm 8.19.3
- hardhat 2.13.0



```
$ npm -v
8.19.3

$ node -v
v18.13.0
```

# ç’°å¢ƒæ§‹ç¯‰

## 1. ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
```wsl:bash
mkdir test
cd test
```

## 2. åˆæœŸåŒ–

```wsl:bash
npm init -y
```

åˆæœŸåŒ–ã‚’è¡Œã£ã¦ã€packageã‚’æ•´ãˆã‚‹ã€‚

## 3. Hardhatã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```code:bash
npm install hardhat --save-dev
```

![](/images/789d411398c6f9/hardhat.png)

```code:bash
npx hardhat compile
```
`Compiled 1 Solidity file successfully`ã¨å‡ºãŸã‚‰æˆåŠŸã€‚

```code:bash
$ npx hardhat test
Compiled 1 Solidity file successfully
```


```code:Tree
test
â”œâ”€â”€ artifacts
â”œâ”€â”€ cache
â”œâ”€â”€ contracts
â”‚   â””â”€â”€ Lock.sol
â”œâ”€â”€ scripts
â”‚   â””â”€â”€ deploy.js
â”œâ”€â”€ test
â”‚   â””â”€â”€ Lock.js
â”œâ”€â”€ .gitignore
â”œâ”€â”€ hardhat.config.js
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

https://github.com/NomicFoundation/hardhat

## 4. hardhat-gas-reporterã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```:bash
npm install hardhat-gas-reporter --save-dev
```

## 5. dotenvã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```:bash
npm install dotenv --save-dev
```

## 6. .envãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š

1. ç›´ä¸‹ã«`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹
2. `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«å¿…è¦ãªé …ç›®ã‚’è¨˜è¼‰ã™ã‚‹

```javascript:.env
PRIVATE_KEY = ""
ALCHEMY_KEY = ""
ETHERSCAN_KEY = ""
```


```code:Tree
test
â”œâ”€â”€ artifacts
â”œâ”€â”€ cache
â”œâ”€â”€ contracts
â”‚   â””â”€â”€ Lock.sol
â”œâ”€â”€ scripts
â”‚   â””â”€â”€ deploy.js
â”œâ”€â”€ test
â”‚   â””â”€â”€ Lock.js
â”œâ”€â”€ .env <------------ Creation
â”œâ”€â”€ .gitignore
â”œâ”€â”€ hardhat.config.js
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```


## 7.
```javascript:hardhat.config.js


```

# ãƒ‡ãƒ—ãƒ­ã‚¤



# ä»˜éŒ²
## Openzeppelin
```code:bash
npm install @openzeppelin/contracts
```
https://github.com/OpenZeppelin/openzeppelin-contracts

```solidity:Example.sol
import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
```



## hardhat-etherscan
### å°å…¥æ–¹æ³•
```code:bash
npm install @nomiclabs/hardhat-etherscan
```

https://github.com/NomicFoundation/hardhat/tree/main/packages/hardhat-etherscan

### Etherscanã§æ¤œè¨¼ã™ã‚‹æ–¹æ³•

1. [etherscan.io](https://etherscan.io/)ã‹ã‚‰APIã‚’å–å¾—ã™ã‚‹
2. `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«`ETHERSCAN_KEY`ã¨ã—ã¦è¨˜è¼‰ã™ã‚‹
```javascript:.env
PRIVATE_KEY = ""
ALCHEMY_KEY = ""
ETHERSCAN_KEY = "YOUR_ETHERSCAN_API_KEY"
```
3. `hardhat.config.js`ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®šã‚’è¿½è¨˜ã™ã‚‹

```javascript:hardhat.config.js
module.exports = {
  networks: {
    mainnet: { ... }
  },
  etherscan: {
    // Your API key for Etherscan
    // Obtain one at https://etherscan.io/
    apiKey: process.env.ETHERSCAN_KEY
  }
};
```
4. ä¸‹è¨˜ã«å¾“ã£ã¦æ¤œè¨¼ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹
A. å¯¾è±¡ã¨ãªã‚‹ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®`constructor`ã«å¼•æ•°ãŒãªã„å ´åˆ
B. å¯¾è±¡ã¨ãªã‚‹ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®`constructor`ã«å¼•æ•°ãŒã‚ã‚‹å ´åˆ

#### A. constructorã«å¼•æ•°ãŒãªã„å ´åˆ
```code:template
npx hardhat verify --network goerli your-contract-address
```
```code:example
npx hardhat verify --network goerli 0x8a90CAb2b38dba80c64b7734e58Ee1dB38B8992e
```
#### B. constructorã«å¼•æ•°ãŒã‚ã‚‹å ´åˆ

1. `args.js`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹

```code:Tree
test
â”œâ”€â”€ artifacts
â”œâ”€â”€ cache
â”œâ”€â”€ contracts
â”‚   â””â”€â”€ Lock.sol
â”œâ”€â”€ scripts
â”‚   â””â”€â”€ deploy.js
â”œâ”€â”€ test
â”‚   â””â”€â”€ Lock.js
â”œâ”€â”€ .env
â”œâ”€â”€ .gitignore
â”œâ”€â”€ args.js <---
â”œâ”€â”€ hardhat.config.js
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```
2. ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®`constructor`ã«å¯¾å¿œã™ã‚‹å¼•æ•°ã‚’å…¥åŠ›ã™ã‚‹
```javascript:args.js
module.exports = [
    "Argument 1",
    "Argument 2",
    "Argument 3",
]
```

3. æ¤œè¨¼ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹
```code:template
npx hardhat verify --network goerli your-contract-address --constructor-args args.js
```

```code:example
npx hardhat verify --network goerli 0x8a90CAb2b38dba80c64b7734e58Ee1dB38B8992e --constructor-args args.js
```
